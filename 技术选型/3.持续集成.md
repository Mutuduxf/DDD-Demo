# 持续集成

## 定义

一种[软件开发实践](https://baike.baidu.com/item/软件开发实践)，即团队开发成员经常集成他们的工作，通常每个成员每天至少集成一次，也就意味着每天可能会发生多次集成。每次集成都通过自动化的构建（包括编译，发布，[自动化测试](https://baike.baidu.com/item/自动化测试))来验证，从而尽快地发现集成错误。

1. Jenkins：基于Java开发的老牌持续集成工具，开源免费跨平台，拥有上千种插件，但当系统庞大时Jenkins本身可能会成为瓶颈。
2. Drone：基于Go开发的新一代持续集成工具，革命性地提出**容器即插件**的概念，CI中每个阶段均可以是一个独立容器（插件），灵活性极高，CI的整个阶段均可通过配置文件描述。但出于简约设计的理念没有独立的用户功能，其账号登录/控制依赖于SCM本身。

## 对比

1. 社区热度
   * Jenkins    16900
   * Drone       22500
2. 资源占用
   * Jenkins    339.87
   * Drone        20.18
3. 功能对比
   * Jenkins    ✩✩✩✩✩
   * Drone       ✩✩✩✩

## 评估

* 两者的稳定性均已经过市场验证。
* 两者均可满足持续集成需要。
* Drone的所有阶段均在容器内，可以让宿主机只需要安装docker，不依赖任何SDK或者系统环境配置。
* Jenkins也可以通过multi stage达到相同效果。

## 结果

出于账号控制的考虑，先使用Jenkins，但drone必须纳入技术雷达进行持续关注。

