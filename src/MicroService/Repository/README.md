# 仓储层

* 仓储层用于实现领域层中的仓储接口（repository interface）。
* 仓储层与DAL是两种不同的设计思路，其区别在于：
  1. 只有聚合（Aggregate）才有仓储。
  2. 仓储是向上（领域层）服务，DAL是向下封装。
* 最简单的仓储层只有Add和Get两个方法，分别是添加聚合以及依据Id获取聚合，原因是：
  1. 聚合的Update应该使用状态跟踪功能来跟踪状态的变化，并在UOW提交的时候将新的状态持久化。
  2. Delete是一种面向数据的思维，业务系统中其实不应该是**删除**而是**作废**，作废也属于状态变化的一种，至于作废后是软/硬删除还是归档，由业务/技术需求来处理。